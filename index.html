<!DOCTYPE html>
<html>
  <head>
    <title>拯救北極熊起始版圖設置產生器</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1, minimal-ui">
    <link rel="stylesheet" type="text/css" href="reset.css" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
  </head>
  <body>
    <button name="button" onclick="generator();">重新產生</button>
    <a href="http://2plus.com.tw/product/z613-rescue-polar-bears/" target="_blank">拯救北極熊官網</a>
    <div id="container">
      <section id="sect1">
        <div class="hex" id="grid1"></div>
        <div class="hex" id="grid2"></div>
        <div class="hex" id="grid3"></div>
        <div class="hex" id="grid4"></div>
      </section>
      <section id="sect2">
        <div class="hex" id="grid5"></div>
        <div class="hex" id="grid6"></div>
        <div class="hex" id="grid7"></div>
        <div class="hex" id="grid8"></div>
        <div class="hex" id="grid9"></div>
      </section>
      <section id="sect3">
        <div class="hex" id="grid10"></div>
        <div class="hex" id="grid11"></div>
        <div class="hex" id="grid12"></div>
        <div class="hex" id="grid13"></div>
        <div class="hex" id="grid14"></div>
        <div class="hex" id="grid15"></div>
      </section>
      <section id="sect4">
        <div class="hex" id="grid16"></div>
        <div class="hex" id="grid17"></div>
        <div class="hex" id="grid18"></div>
        <div class="hex" id="grid19"></div>
        <div class="hex" id="grid20"></div>
        <div class="hex" id="grid21"></div>
        <div class="hex" id="grid22"></div>
      </section>
      <section id="sect5">
        <div class="hex" id="grid23"></div>
        <div class="hex" id="grid24"></div>
        <div class="hex" id="grid25"></div>
        <div class="hex" id="grid26"></div>
        <div class="hex" id="grid27"></div>
        <div class="hex" id="grid28"></div>
      </section>
      <section id="sect6">
        <div class="hex" id="grid29"></div>
        <div class="hex" id="grid30"></div>
        <div class="hex" id="grid31"></div>
        <div class="hex" id="grid32"></div>
        <div class="hex" id="grid33"></div>
      </section>
      <section id="sect7">
        <div class="hex" id="grid34"></div>
        <div class="hex" id="grid35"></div>
        <div class="hex" id="grid36"></div>
        <div class="hex" id="grid37"></div>
      </section>
    </div>

    <script type="text/javascript">
      function generator() {
        var hexes = _shuffleHexes(), i = 0;
        hexes.forEach(function(hex, index) {
          index += 1;
          $('#grid'+index).css('background-position', hex);
        });
      }

      function _shuffleHexes() {
        var hexes = [
          '0 -2211px',
          '0 -2211px',
          '0 -2211px',
          '0 -2211px',
          '0 -2211px',
          '0 -221.1px',
          '0 -110.55px',
          '0  0px',
          '0 -1547.7px',
          '0 -1437.14px',
          '0 -1105.5px',
          '0 -1326.6px',
          '0 -552.75px',
          '0 -773.85px',
          '0 -331.65px',
          '0 -994.95px',
          '0 -663.3px',
          '0 -442.2px',
          '0 -1216.05px',
          '0 -884.4px',
          '0 -1989.9px',
          '0 -2100.45px',
          '0 -1879.35px',
          '0 -1768.8px',
          '0 -1658.25px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px',
          '0 -2320px'
        ];

        // http://stackoverflow.com/a/6274398
        var counter = 37, temp, index;
        while (counter > 0) {
          index = Math.floor(Math.random() * counter);
          counter--;
          temp = hexes[counter];
          hexes[counter] = hexes[index];
          hexes[index] = temp;
        }
        return hexes;
      }

      generator();
    </script>
  </body>
</html>
