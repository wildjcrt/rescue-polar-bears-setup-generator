<!DOCTYPE html>
<html>
  <head>
    <title>拯救北極熊起始版圖設置產生器</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1, minimal-ui">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <style type="text/css" media="screen">
      #container {
        margin: 0 auto;
        width: 100%;
        height: 844px;
        background-image: url('./images/board-02.png');
        background-size: contain;
        background-repeat: no-repeat;
      }

      @media screen and (min-width: 981px) {
        #container {
          max-width: 980px;
        }
      }

      #sect1, #sect2, #sect3, #sect4, #sect5, #sect6, #sect7 {
        position: relative;
        clear: both;
      }
      #sect1 {
        top: 87px;
        left: 279px;
      }
      #sect2 {
        top: 70px;
        left: 226px;
      }
      #sect3 {
        top: 52px;
        left: 172px;
      }
      #sect4 {
        top: 34px;
        left: 120px;
      }
      #sect5 {
        top: 16px;
        left: 172px;
      }
      #sect6 {
        top: -2px;
        left: 226px;
      }
      #sect7 {
        top: -19px;
        left: 279px;
      }

      .hex {
        width: 101px;
        height: 110px;
        margin: 0 2.85px;
        float: left;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
      }

      .clear {
        display: block;
        clear: both;
      }
    </style>
  </head>
  <body>
    <button name="button" onclick="generator();">重新產生</button>
    <div id="container">
      <section id="sect1">
        <div class="hex" id="grid1"></div>
        <div class="hex" id="grid2"></div>
        <div class="hex" id="grid3"></div>
        <div class="hex" id="grid4"></div>
      </section>
      <section id="sect2">
        <div class="hex" id="grid5"></div>
        <div class="hex" id="grid6"></div>
        <div class="hex" id="grid7"></div>
        <div class="hex" id="grid8"></div>
        <div class="hex" id="grid9"></div>
      </section>
      <section id="sect3">
        <div class="hex" id="grid10"></div>
        <div class="hex" id="grid11"></div>
        <div class="hex" id="grid12"></div>
        <div class="hex" id="grid13"></div>
        <div class="hex" id="grid14"></div>
        <div class="hex" id="grid15"></div>
      </section>
      <section id="sect4">
        <div class="hex" id="grid16"></div>
        <div class="hex" id="grid17"></div>
        <div class="hex" id="grid18"></div>
        <div class="hex" id="grid19"></div>
        <div class="hex" id="grid20"></div>
        <div class="hex" id="grid21"></div>
        <div class="hex" id="grid22"></div>
      </section>
      <section id="sect5">
        <div class="hex" id="grid23"></div>
        <div class="hex" id="grid24"></div>
        <div class="hex" id="grid25"></div>
        <div class="hex" id="grid26"></div>
        <div class="hex" id="grid27"></div>
        <div class="hex" id="grid28"></div>
      </section>
      <section id="sect6">
        <div class="hex" id="grid29"></div>
        <div class="hex" id="grid30"></div>
        <div class="hex" id="grid31"></div>
        <div class="hex" id="grid32"></div>
        <div class="hex" id="grid33"></div>
      </section>
      <section id="sect7">
        <div class="hex" id="grid34"></div>
        <div class="hex" id="grid35"></div>
        <div class="hex" id="grid36"></div>
        <div class="hex" id="grid37"></div>
      </section>
    </div>

    <script type="text/javascript">
      function generator() {
        var hexes = _shuffleHexes(), i = 0;
        hexes.forEach(function(hex, index) {
          index += 1;

          if (hex === null) {
            $('#grid'+index).removeAttr('style');
          } else {
            $('#grid'+index).css('background-image', 'url("' + hex + '")');
          }
        });
      }

      function _shuffleHexes() {
        var hexes = [
          "./images/Support-02.png",
          "./images/Support-02.png",
          "./images/Support-02.png",
          "./images/Support-02.png",
          "./images/Support-02.png",
          "./images/ICE-01-02.png",
          "./images/ICE-02-02.png",
          "./images/ICE-03-02.png",
          "./images/ICE-04-02.png",
          "./images/ICE-05-02.png",
          "./images/ICE-06-02.png",
          "./images/ICE-07-02.png",
          "./images/ICE-08-02.png",
          "./images/ICE-09-02.png",
          "./images/ICE-10-02.png",
          "./images/ICE-11-02.png",
          "./images/ICE-12-02.png",
          "./images/ICE-13-02.png",
          "./images/ICE-14-02.png",
          "./images/ICE-15-02.png",
          "./images/ICE-16-02.png",
          "./images/ICE-17-02.png",
          "./images/ICE-18-02.png",
          "./images/ICE-19-02.png",
          "./images/ICE-20-02.png",
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null
        ];

        // http://stackoverflow.com/a/6274398
        var counter = 37, temp, index;
        while (counter > 0) {
          index = Math.floor(Math.random() * counter);
          counter--;
          temp = hexes[counter];
          hexes[counter] = hexes[index];
          hexes[index] = temp;
        }
        return hexes;
      }

      generator();
    </script>
  </body>
</html>
