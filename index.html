<!DOCTYPE html>
<html>
  <head>
    <title>拯救北極熊起始版圖設置產生器</title>
    <meta charset="utf-8">
    <script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
    <style type="text/css" media="screen">
      #container {
        margin: 0 auto;
        width: 100%;
        height: 860px;
        background-image: url('./images/board-01.png');
        background-size: contain;
        background-repeat: no-repeat;
      }

      @media screen and (min-width: 981px) {
        #container {
          max-width: 980px;
        }
      }

      #sect1, #sect2, #sect3, #sect4, #sect5, #sect6, #sect7 {
        position: relative;
      }

      #sect1 {

      }

      .hex {
        width: 7vw;
        height: 8vw;
        float: left;
        background-size: contain;
        background-repeat: no-repeat;
        background-position: center center;
      }

      .clear {
        display: block;
        clear: both;
      }
    </style>
  </head>
  <body>
    <div id="container">
      <section id="sect1">
        <div class="hex" id="grid1"></div>
        <div class="hex" id="grid2"></div>
        <div class="hex" id="grid3"></div>
        <div class="hex" id="grid4"></div>
      </section>
      <span class="clear"></span>
      <section id="sect2">
        <div class="hex" id="grid5"></div>
        <div class="hex" id="grid6"></div>
        <div class="hex" id="grid7"></div>
        <div class="hex" id="grid8"></div>
        <div class="hex" id="grid9"></div>
      </section>
      <span class="clear"></span>
      <section id="sect3">
        <div class="hex" id="grid10"></div>
        <div class="hex" id="grid11"></div>
        <div class="hex" id="grid12"></div>
        <div class="hex" id="grid13"></div>
        <div class="hex" id="grid14"></div>
        <div class="hex" id="grid15"></div>
      </section>
      <span class="clear"></span>
      <section id="sect4">
        <div class="hex" id="grid16"></div>
        <div class="hex" id="grid17"></div>
        <div class="hex" id="grid18"></div>
        <div class="hex" id="grid19"></div>
        <div class="hex" id="grid20"></div>
        <div class="hex" id="grid21"></div>
        <div class="hex" id="grid22"></div>
      </section>
      <span class="clear"></span>
      <section id="sect5">
        <div class="hex" id="grid23"></div>
        <div class="hex" id="grid24"></div>
        <div class="hex" id="grid25"></div>
        <div class="hex" id="grid26"></div>
        <div class="hex" id="grid27"></div>
        <div class="hex" id="grid28"></div>
      </section>
      <span class="clear"></span>
      <section id="sect6">
        <div class="hex" id="grid29"></div>
        <div class="hex" id="grid30"></div>
        <div class="hex" id="grid31"></div>
        <div class="hex" id="grid32"></div>
        <div class="hex" id="grid33"></div>
      </section>
      <span class="clear"></span>
      <section id="sect7">
        <div class="hex" id="grid34"></div>
        <div class="hex" id="grid35"></div>
        <div class="hex" id="grid36"></div>
        <div class="hex" id="grid37"></div>
      </section>
    </div>

    <script type="text/javascript">
      function generator() {
        var hexes = _shuffleHexes(), i = 0;
        hexes.forEach(function(hex, index) {
          index += 1;

          if (hex === null) {
            $('#grid'+index).removeAttr('style');
          } else {
            $('#grid'+index).css('background-image', 'url("' + hex + '")');
          }
        });
      }

      function _shuffleHexes() {
        var hexes = [
          "./images/Support-01.png",
          "./images/Support-01.png",
          "./images/Support-01.png",
          "./images/Support-01.png",
          "./images/Support-01.png",
          "./images/ICE-01-01.png",
          "./images/ICE-02-01.png",
          "./images/ICE-03-01.png",
          "./images/ICE-04-01.png",
          "./images/ICE-05-01.png",
          "./images/ICE-06-01.png",
          "./images/ICE-07-01.png",
          "./images/ICE-08-01.png",
          "./images/ICE-09-01.png",
          "./images/ICE-10-01.png",
          "./images/ICE-11-01.png",
          "./images/ICE-12-01.png",
          "./images/ICE-13-01.png",
          "./images/ICE-14-01.png",
          "./images/ICE-15-01.png",
          "./images/ICE-16-01.png",
          "./images/ICE-17-01.png",
          "./images/ICE-18-01.png",
          "./images/ICE-19-01.png",
          "./images/ICE-20-01.png",
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null,
          null
        ];

        // http://stackoverflow.com/a/6274398
        var counter = 37, temp, index;
        while (counter > 0) {
          index = Math.floor(Math.random() * counter);
          counter--;
          temp = hexes[counter];
          hexes[counter] = hexes[index];
          hexes[index] = temp;
        }
        return hexes;
      }

      generator();
    </script>
  </body>
</html>
